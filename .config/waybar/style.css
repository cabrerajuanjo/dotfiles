/*
 * Waybar â€“ Polished glassy theme
 * Palette inspired by Catppuccin Mocha
 * Safe for GTK CSS (uses @define-color, no CSS vars)
 */

* {
  font-family: FontAwesome, Roboto, Helvetica, Arial, sans-serif;
  font-size: 16px;
  box-shadow: none;
}

/* ----- Palette ----- */
@define-color bg            rgba(28, 28, 42, 0.72);   /* slightly lighter base */
@define-color bg-opaque     #1c1c2a;
@define-color surface       rgba(55, 57, 78, 0.92);
@define-color overlay       rgba(120, 124, 145, 0.38);
@define-color text          #ecf0ff;   /* brighter text */
@define-color text-dim      #b5bbd6;   /* slightly lighter dim text */
@define-color accent        #9cc5ff;   /* brighter blue */
@define-color accent-2      #ff99b4;   /* poppy pink/red */
@define-color success       #b3f2b0;   /* lively green */
@define-color warning       #ffecb3;   /* warmer yellow */
@define-color danger        #ff8699;   /* more saturated red */
@define-color orange        #ffb974;   /* punchier orange */
@define-color magenta       #d6b5ff;   /* vivid violet */
@define-color teal          #a3f2e0;   /* fresher teal */

/* ----- Bar container ----- */
window#waybar {
  background-color: @bg;
  color: @text;
  border-bottom: 1px solid @overlay;
  transition: background-color 240ms ease, border-color 240ms ease, opacity 240ms ease;
  /* subtle elevation */
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35);
}

/* optional: a slightly more opaque bar when any window is maximized/fullscreen
window#waybar.solo, window#waybar.empty {
  background-color: @bg-opaque;
}
*/

window#waybar.hidden {
  opacity: 0.25;
}

window#waybar.termite { background-color: rgba(63,63,63,0.85); }
window#waybar.chromium { background-color: rgba(0,0,0,0.85); border: none; }

/* ----- Generic buttons ----- */
button {
  border: none;
  border-radius: 5;
  padding: 0 10px;
  background: transparent;
  color: @text;
  transition: background-color 160ms ease, color 160ms ease, box-shadow 160ms ease, transform 120ms ease;
}

/* Fix hover effect per Waybar FAQ */
button:hover {
  background: rgba(255, 255, 255, 0.07);
  box-shadow: inset 0 -2px @accent;
}

button:active {
  /* Simulate a press without transform */
  box-shadow:
    inset 0 1px 0 rgba(0,0,0,0.35),
    inset 0 -1px @accent;
  background: rgba(255,255,255,0.06);
}
/* ----- Layout spacing ----- */
#window, #workspaces { margin: 0 6px; }
.modules-left > widget:first-child > #workspaces { margin-left: 0; }
.modules-right > widget:last-child > #workspaces { margin-right: 0; }

/* ----- Workspaces ----- */
#workspaces button {
  padding: 0 12px;
  color: @text-dim;
}

#workspaces button:hover {
  background: rgba(255, 255, 255, 0.06);
  color: @text;
}

#workspaces button.active {
  color: @bg-opaque;
  background-image: linear-gradient(180deg, @accent 0%, #7aa2f7 100%);
  box-shadow: none;
}

#workspaces button.urgent {
  background-image: linear-gradient(180deg, @danger 0%, #e56a7c 100%);
  color: #1a1b26;
}

/* ----- Mode tag ----- */
#mode {
  background-image: linear-gradient(180deg, @magenta 0%, #b085ff 100%);
  color: #0b0b12;
  border-radius: 5px;
  box-shadow: none;
}

/* ----- Shared module style ----- */
#clock, #battery, #cpu, #memory, #disk, #temperature, #backlight, #network,
#pulseaudio, #wireplumber, #custom-media, #tray, #mode, #idle_inhibitor,
#scratchpad, #power-profiles-daemon, #mpd, #language, #keyboard-state, #privacy {
  padding: 0 12px;
  margin: 4px 4px;
  border-radius: 5px;
  color: @text;
  background-color: rgba(255,255,255,0.03);
}

/* subtle separators on either side for compact modules */
#tray, #language, #keyboard-state {
  background-color: rgba(255,255,255,0.04);
}

/* ----- Individual modules ----- */
#clock {
  background-image: linear-gradient(180deg, rgba(137,180,250,0.25), rgba(137,180,250,0.10));
  color: @text;
}

#battery {
  background-image: linear-gradient(180deg, rgba(166,227,161,0.22), rgba(166,227,161,0.10));
  color: @text;
}

#battery.charging, #battery.plugged {
  background-image: linear-gradient(180deg, @success, #86d78b);
  color: #0e0e14;
}

@keyframes blink {
  to { background-color: @warning; color: #1a1b26; }
}

#battery.critical:not(.charging) {
  background-color: @danger;
  color: #1a1b26;
  animation: blink 0.6s steps(12) infinite alternate;
}

#power-profiles-daemon { padding-right: 16px; }

#power-profiles-daemon.performance {
  background-image: linear-gradient(180deg, @danger, #e56a7c);
  color: #1a1b26;
}
#power-profiles-daemon.balanced {
  background-image: linear-gradient(180deg, @accent, #7aa2f7);
  color: #0b0b12;
}
#power-profiles-daemon.power-saver {
  background-image: linear-gradient(180deg, @success, #86d78b);
  color: #0b0b12;
}

label:focus { background-color: rgba(0,0,0,0.25); }

/* System stats */
#cpu { background-image: linear-gradient(180deg, rgba(166,227,161,0.22), rgba(166,227,161,0.10)); color: @text; }
#memory { background-image: linear-gradient(180deg, rgba(203,166,247,0.25), rgba(203,166,247,0.10)); }
#disk { background-image: linear-gradient(180deg, rgba(250,179,135,0.22), rgba(250,179,135,0.10)); }
#backlight { background-color: rgba(148,226,213,0.16); }

/* Network */
#network { background-image: linear-gradient(180deg, rgba(137,180,250,0.25), rgba(137,180,250,0.10)); }
#network.disconnected {
  background-image: none;
  background-color: @danger;
  color: #1a1b26;
}

/* Audio */
#pulseaudio {
  background-image: linear-gradient(180deg, rgba(249,226,175,0.30), rgba(249,226,175,0.10));
  color: @text;
}
#pulseaudio.muted {
  background-color: rgba(108,112,134,0.35);
  color: #1a1b26;
}

#wireplumber {
  background-color: rgba(255,240,245,0.16);
  color: @text;
}
#wireplumber.muted {
  background-color: @danger;
  color: #1a1b26;
}

/* Media */
#custom-media { min-width: 120px; color: @text; background-color: rgba(102,204,153,0.20); }
#custom-media.custom-spotify { background-color: rgba(102,204,153,0.25); }
#custom-media.custom-vlc { background-color: rgba(250,160,0,0.22); }

/* Temperature */
#temperature { background-image: linear-gradient(180deg, rgba(240,147,43,0.28), rgba(240,147,43,0.10)); }
#temperature.critical { background-color: @danger; color: #1a1b26; }

/* Tray */
#tray { background-color: rgba(137,180,250,0.14); }
#tray > .passive { -gtk-icon-effect: dim; }
#tray > .needs-attention {
  -gtk-icon-effect: highlight;
  background-color: @danger;
  color: #1a1b26;
}

/* Idle inhibitor */
#idle_inhibitor { background-color: rgba(45,52,54,0.45); }
#idle_inhibitor.activated { background-color: rgba(236,240,241,0.85); color: #2d3436; }

/* MPD */
#mpd { background-color: rgba(102,204,153,0.20); color: @text; }
#mpd.disconnected { background-color: @danger; color: #1a1b26; }
#mpd.stopped { background-color: rgba(144,177,177,0.30); }
#mpd.paused { background-color: rgba(81,163,122,0.32); }

/* Language & keyboard state */
#language {
  background-color: rgba(0,176,147,0.22);
  color: #e5e9f0;
  padding: 0 8px;
}
#keyboard-state {
  background-color: rgba(151,225,173,0.22);
  color: @text;
  padding: 0 4px;
}
#keyboard-state > label { padding: 0 6px; }
#keyboard-state > label.locked { background: rgba(0,0,0,0.18); border-radius: 8px; }

/* Scratchpad */
#scratchpad { background: rgba(0,0,0,0.22); }
#scratchpad.empty { background-color: transparent; }

/* Privacy indicators */
#privacy { padding: 0; }
#privacy-item { padding: 0 6px; color: @text; }
#privacy-item.screenshare { background-color: #cf5700; color: #0b0b12; }
#privacy-item.audio-in   { background-color: #1ca000; color: #0b0b12; }
#privacy-item.audio-out  { background-color: #0069d4; }

/* Module-specific hover (example) */
#pulseaudio:hover,
#network:hover,
#clock:hover {
  box-shadow: inset 0 0 0 1px @overlay, 0 2px 6px rgba(0,0,0,0.25);
}

/* Make the bar feel tighter on small screens (optional)
@media (max-width: 1366px) {
  #clock, #battery, #cpu, #memory, #disk, #temperature, #backlight, #network,
  #pulseaudio, #wireplumber, #custom-media, #tray, #mode, #idle_inhibitor,
  #scratchpad, #power-profiles-daemon, #mpd, #language, #keyboard-state, #privacy {
    padding: 0 9px;
    margin: 3px 3px;
  }
}
*/

